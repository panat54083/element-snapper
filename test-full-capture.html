<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Full-Element Capture Test Page</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 40px;
      background: #f5f5f5;
      /* Ensure body expands to accommodate wide elements */
      min-width: min-content;
    }

    h1 {
      color: #111827;
      margin-bottom: 32px;
    }

    h2 {
      color: #374151;
      margin-top: 48px;
      margin-bottom: 16px;
    }

    .test-section {
      margin-bottom: 64px;
    }

    .description {
      color: #6b7280;
      margin-bottom: 16px;
      font-size: 14px;
    }

    /* Test elements */
    .small-element {
      width: 300px;
      height: 200px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .tall-element {
      width: 600px;
      height: 2000px;
      background: linear-gradient(180deg, #f093fb 0%, #f5576c 100%);
      border-radius: 8px;
      padding: 20px;
      color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .tall-element h3 {
      margin: 0 0 16px 0;
    }

    .tall-element .marker {
      background: rgba(255, 255, 255, 0.3);
      padding: 8px 16px;
      border-radius: 4px;
      margin: 100px 0;
      font-size: 14px;
    }

    .wide-element {
      width: 2000px;
      height: 400px;
      background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 8px;
      padding: 20px;
      color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .wide-element h3 {
      margin: 0 0 16px 0;
    }

    .wide-element .markers {
      display: flex;
      gap: 200px;
    }

    .wide-element .marker {
      background: rgba(255, 255, 255, 0.3);
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 14px;
      white-space: nowrap;
    }

    .large-2d-element {
      width: 1800px;
      height: 1500px;
      background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
      border-radius: 8px;
      padding: 20px;
      color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      position: relative;
    }

    .large-2d-element h3 {
      margin: 0;
    }

    .large-2d-element .corner-marker {
      position: absolute;
      background: rgba(255, 255, 255, 0.3);
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 14px;
    }

    .large-2d-element .top-left {
      top: 20px;
      left: 20px;
    }

    .large-2d-element .top-right {
      top: 20px;
      right: 20px;
    }

    .large-2d-element .bottom-left {
      bottom: 20px;
      left: 20px;
    }

    .large-2d-element .bottom-right {
      bottom: 20px;
      right: 20px;
    }

    .large-2d-element .center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      font-weight: 600;
    }

    .instructions {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 32px;
      border-left: 4px solid #2563eb;
    }

    .instructions h3 {
      margin-top: 0;
      color: #2563eb;
    }

    .instructions ol {
      margin: 0;
      padding-left: 20px;
    }

    .instructions li {
      margin: 8px 0;
      color: #374151;
    }

    .instructions code {
      background: #f3f4f6;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: monospace;
      color: #ef4444;
    }
  </style>
</head>
<body>
  <h1>Full-Element Capture Test Page</h1>

  <div class="instructions">
    <h3>Test Instructions</h3>
    <ol>
      <li>Open the extension popup and go to <strong>Settings</strong></li>
      <li>Check the <code>"Capture full element"</code> checkbox</li>
      <li>Click <strong>Capture</strong> button</li>
      <li>Click on one of the test elements below</li>
      <li>Observe multiple screen flickers as it captures tiles</li>
      <li>Check your Downloads folder for the stitched screenshot</li>
      <li>Open the image and verify it captured the full element (check dimensions and corner markers)</li>
      <li>To test single-capture mode, uncheck the setting and try again - it should only capture the visible portion</li>
    </ol>
  </div>

  <div class="test-section">
    <h2>1. Small Element (Control Test)</h2>
    <p class="description">
      Expected: Single capture (300Ã—200px)<br>
      Behavior: Should use single-capture even with setting enabled (element smaller than viewport)
    </p>
    <div class="small-element">
      Small Element<br>300Ã—200px
    </div>
  </div>

  <div class="test-section">
    <h2>2. Tall Element (Vertical Multi-Capture)</h2>
    <p class="description">
      Expected: 1Ã—4 tile grid (1 column, 4 rows) for 600Ã—2000px element<br>
      Behavior: Scrolls vertically through element, captures 4 tiles, stitches together
    </p>
    <div class="tall-element" id="tall-element">
      <h3>Tall Element - 600Ã—2000px</h3>
      <p>This element extends far below the viewport. Full capture should show all markers.</p>
      <div class="marker">ðŸ”´ Marker at 100px</div>
      <div class="marker">ðŸŸ  Marker at 300px</div>
      <div class="marker">ðŸŸ¡ Marker at 500px</div>
      <div class="marker">ðŸŸ¢ Marker at 700px</div>
      <div class="marker">ðŸ”µ Marker at 900px</div>
      <div class="marker">ðŸŸ£ Marker at 1100px</div>
      <div class="marker">âš« Marker at 1300px</div>
      <div class="marker">âšª Marker at 1500px</div>
      <div class="marker">ðŸŸ¤ Marker at 1700px</div>
      <div class="marker">ðŸ”´ Bottom marker at 1900px</div>
    </div>
  </div>

  <div class="test-section">
    <h2>3. Wide Element (Horizontal Multi-Capture)</h2>
    <p class="description">
      Expected: 3Ã—1 tile grid (3 columns, 1 row) for 2000Ã—400px element<br>
      Behavior: Scrolls horizontally through element, captures 3 tiles, stitches together
    </p>
    <div class="wide-element" id="wide-element">
      <h3>Wide Element - 2000Ã—400px</h3>
      <p>This element extends far to the right. Full capture should show all markers.</p>
      <div class="markers">
        <div class="marker">ðŸ”´ Start (0px)</div>
        <div class="marker">ðŸŸ  200px</div>
        <div class="marker">ðŸŸ¡ 400px</div>
        <div class="marker">ðŸŸ¢ 600px</div>
        <div class="marker">ðŸ”µ 800px</div>
        <div class="marker">ðŸŸ£ 1000px</div>
        <div class="marker">âš« 1200px</div>
        <div class="marker">âšª 1400px</div>
        <div class="marker">ðŸŸ¤ 1600px</div>
        <div class="marker">ðŸ”´ End (1800px)</div>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>4. Large 2D Element (Grid Multi-Capture)</h2>
    <p class="description">
      Expected: 3Ã—3 tile grid (9 captures) for 1800Ã—1500px element<br>
      Behavior: Scrolls in a grid pattern, captures 9 tiles, stitches together<br>
      Verification: Check that all 4 corner markers and center marker appear in final image
    </p>
    <div class="large-2d-element" id="large-2d">
      <h3>Large 2D Element - 1800Ã—1500px</h3>
      <div class="corner-marker top-left">ðŸ”´ Top Left</div>
      <div class="corner-marker top-right">ðŸ”µ Top Right</div>
      <div class="corner-marker bottom-left">ðŸŸ¢ Bottom Left</div>
      <div class="corner-marker bottom-right">ðŸŸ¡ Bottom Right</div>
      <div class="center">âšª CENTER âšª</div>
    </div>
  </div>

  <div style="height: 500px;"></div>

</body>
</html>
